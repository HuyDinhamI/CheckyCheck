<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion Game - Tr√≤ Ch∆°i Nh·∫≠n Di·ªán C·∫£m X√∫c</title>
    <link rel="stylesheet" href="styles/main.css">
    <!-- TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <!-- Face-api.js cho ph√°t hi·ªán khu√¥n m·∫∑t -->
    <script src="https://cdn.jsdelivr.net/npm/face-api.js"></script>
</head>
<body>
    <div class="container">
        <!-- M√†n h√¨nh ch√†o m·ª´ng -->
        <div id="welcome-screen" class="screen">
            <h1>Emotion Game</h1>
            <p class="subtitle">Th·ª≠ th√°ch bi·ªÉu c·∫£m khu√¥n m·∫∑t</p>
            <button id="start-btn" class="btn">B·∫Øt ƒë·∫ßu</button>
            <div class="instructions">
                <h3>H∆∞·ªõng d·∫´n</h3>
                <p>Bi·ªÉu hi·ªán c·∫£m x√∫c theo y√™u c·∫ßu ƒë·ªÉ v∆∞·ª£t qua c√°c m√†n ch∆°i</p>
                <p>M·ªói m√†n ch∆°i y√™u c·∫ßu m·ªôt c·∫£m x√∫c kh√°c nhau</p>
                <p>ƒê·∫°t tr√™n 90% ƒë·ªô ch√≠nh x√°c ƒë·ªÉ qua m√†n</p>
            </div>
        </div>
        
        <!-- M√†n h√¨nh chu·∫©n b·ªã -->
        <div id="preparation-screen" class="screen hidden">
            <h2>Chu·∫©n B·ªã</h2>
            <div id="camera-container">
                <video id="video" width="640" height="480" autoplay muted></video>
                <canvas id="face-canvas" width="640" height="480"></canvas>
            </div>
            <div id="countdown">3</div>
            <p>ƒê·∫£m b·∫£o khu√¥n m·∫∑t c·ªßa b·∫°n ƒë∆∞·ª£c nh√¨n th·∫•y r√µ r√†ng</p>
        </div>
        
        <!-- M√†n h√¨nh ch∆°i game -->
        <div id="game-screen" class="screen hidden">
            <div class="game-header">
                <div class="level-info">M√†n: <span id="current-level">1</span>/<span id="total-levels">5</span></div>
                <div class="timer">Th·ªùi gian: <span id="time-left">30</span>s</div>
            </div>
            
            <div class="game-content">
                <div class="emotion-target">
                    <h2>H√£y th·ªÉ hi·ªán: <span id="target-emotion">Vui v·∫ª</span></h2>
                    <div class="emotion-icon" id="target-emotion-icon">üòä</div>
                </div>
                
                <div id="game-camera-container">
                    <video id="game-video" width="640" height="480" autoplay muted></video>
                    <canvas id="game-canvas" width="640" height="480"></canvas>
                </div>
                
                <div class="detection-info">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div id="detection-progress" class="progress"></div>
                        </div>
                        <div class="progress-percentage"><span id="detection-percentage">0</span>%</div>
                    </div>
                    <div id="emotion-feedback">ƒêang ph√°t hi·ªán c·∫£m x√∫c...</div>
                </div>
            </div>
        </div>
        
        <!-- M√†n h√¨nh ho√†n th√†nh m√†n ch∆°i -->
        <div id="level-complete-screen" class="screen hidden">
            <h2>M√†n Ch∆°i Ho√†n Th√†nh!</h2>
            <div class="level-result">
                <p>B·∫°n ƒë√£ th·ªÉ hi·ªán th√†nh c√¥ng: <span id="completed-emotion">Vui v·∫ª</span></p>
                <div class="emotion-icon large">üòä</div>
                <p>ƒê·ªô ch√≠nh x√°c: <span id="accuracy-result">95</span>%</p>
            </div>
            <button id="next-level-btn" class="btn">Ti·∫øp T·ª•c</button>
        </div>
        
        <!-- M√†n h√¨nh k·∫øt th√∫c game -->
        <div id="game-complete-screen" class="screen hidden">
            <h2>Ch√∫c M·ª´ng!</h2>
            <p>B·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ c√°c m√†n ch∆°i</p>
            <div class="final-results">
                <p>Th·ªùi gian ho√†n th√†nh: <span id="total-time">120</span>s</p>
                <p>ƒê·ªô ch√≠nh x√°c trung b√¨nh: <span id="average-accuracy">92</span>%</p>
            </div>
            <button id="play-again-btn" class="btn">Ch∆°i L·∫°i</button>
        </div>
        
        <!-- M√†n h√¨nh thua cu·ªôc -->
        <div id="game-over-screen" class="screen hidden">
            <h2>Game Over!</h2>
            <p>B·∫°n ƒë√£ h·∫øt th·ªùi gian</p>
            <div class="emotion-icon large">üò¢</div>
            <p>ƒê√£ ho√†n th√†nh: <span id="completed-levels">2</span>/<span id="total-levels-result">5</span> m√†n</p>
            <button id="try-again-btn" class="btn">Th·ª≠ L·∫°i</button>
        </div>
    </div>

    <!-- Model s·∫Ω ƒë∆∞·ª£c t·∫£i t·ª´ th∆∞ m·ª•c models/emotion_model -->
    <script src="scripts/ui.js"></script>
    <script src="scripts/emotionDetector.js"></script>
    <script src="scripts/game.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>
