<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CheckyCheck - Emotion Challenge Game</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="container">
        <!-- Landing Page -->
        <div id="landing-page" class="screen active">
            <div class="hero">
                <h1 class="game-title">üé≠ CheckyCheck</h1>
                <p class="game-subtitle">Th·ª≠ th√°ch nh·∫≠n di·ªán c·∫£m x√∫c</p>
                <p class="game-description">
                    H√£y th·ªÉ hi·ªán c·∫£m x√∫c tr∆∞·ªõc camera ƒë·ªÉ v∆∞·ª£t qua 3 m√†n ch∆°i!<br>
                    M·ªói m√†n c·∫ßn ƒë·∫°t ƒë·ªô ch√≠nh x√°c 60% ƒë·ªÉ pass.
                </p>
                <button id="start-btn" class="btn btn-primary">B·∫Øt ƒë·∫ßu ch∆°i</button>
                <button id="instructions-btn" class="btn btn-secondary">H∆∞·ªõng d·∫´n</button>
            </div>
        </div>

        <!-- Instructions Modal -->
        <div id="instructions-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>H∆∞·ªõng d·∫´n ch∆°i</h2>
                <div class="instructions">
                    <div class="instruction-item">
                        <h3>üéØ M·ª•c ti√™u</h3>
                        <p>V∆∞·ª£t qua 3 m√†n ch∆°i b·∫±ng c√°ch th·ªÉ hi·ªán ƒë√∫ng c·∫£m x√∫c ƒë∆∞·ª£c y√™u c·∫ßu</p>
                    </div>
                    <div class="instruction-item">
                        <h3>üìä C√°ch ch∆°i</h3>
                        <p>‚Ä¢ Nh√¨n v√†o camera v√† th·ªÉ hi·ªán c·∫£m x√∫c ƒë∆∞·ª£c y√™u c·∫ßu</p>
                        <p>‚Ä¢ Gi·ªØ c·∫£m x√∫c: M√†n 1 (2s), M√†n 2 (3s), M√†n 3 (4s)</p>
                        <p>‚Ä¢ ƒê·∫°t ƒë·ªô ch√≠nh x√°c 60% ƒë·ªÉ pass m√†n</p>
                    </div>
                    <div class="instruction-item">
                        <h3>üòä 7 C·∫£m x√∫c</h3>
                        <p>Happy (Vui), Sad (Bu·ªìn), Angry (T·ª©c gi·∫≠n), Surprised (Ng·∫°c nhi√™n), Fearful (S·ª£ h√£i), Disgusted (Gh√™ t·ªüm), Neutral (B√¨nh th∆∞·ªùng)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="level-info">
                    <span id="current-level">M√†n 1/3</span>
                </div>
                <div class="target-emotion">
                    <span>Th·ªÉ hi·ªán: </span>
                    <span id="target-emotion-text">Happy</span>
                    <span id="target-emotion-icon">üòä</span>
                </div>
                <div class="score-info">
                    <span>ƒêi·ªÉm: </span>
                    <span id="current-score">0%</span>
                </div>
            </div>

            <div class="game-main">
                <div class="video-container">
                    <video id="video" autoplay muted></video>
                    <canvas id="canvas" style="display: none;"></canvas>
                    <div class="face-overlay" id="face-overlay"></div>
                    <div class="loading" id="loading">
                        <div class="spinner"></div>
                        <p>ƒêang kh·ªüi t·∫°o camera...</p>
                    </div>
                </div>

                <div class="progress-container">
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                        <div class="progress-threshold">60%</div>
                    </div>
                    <div class="progress-text">
                        <span id="progress-label">H√£y th·ªÉ hi·ªán c·∫£m x√∫c!</span>
                    </div>
                </div>

                <div class="emotion-debug" id="emotion-debug">
                    <h4>ƒê·ªô ch√≠nh x√°c c√°c c·∫£m x√∫c:</h4>
                    <div class="emotion-scores" id="emotion-scores"></div>
                </div>
            </div>

            <div class="game-controls">
                <button id="skip-level-btn" class="btn btn-warning">B·ªè qua m√†n</button>
                <button id="quit-game-btn" class="btn btn-danger">Tho√°t game</button>
            </div>
        </div>

        <!-- Level Complete Screen -->
        <div id="level-complete-screen" class="screen">
            <div class="celebration">
                <h2>üéâ Ho√†n th√†nh m√†n <span id="completed-level"></span>!</h2>
                <p class="final-score">ƒêi·ªÉm s·ªë: <span id="level-final-score"></span>%</p>
                <button id="next-level-btn" class="btn btn-primary">M√†n ti·∫øp theo</button>
            </div>
        </div>

        <!-- Victory Screen -->
        <div id="victory-screen" class="screen">
            <div class="victory">
                <h1>üèÜ Ch√∫c m·ª´ng!</h1>
                <p>B·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ 3 m√†n!</p>
                <div class="final-stats" id="final-stats"></div>
                <button id="play-again-btn" class="btn btn-primary">Ch∆°i l·∫°i</button>
                <button id="home-btn" class="btn btn-secondary">V·ªÅ trang ch·ªß</button>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="game-over-screen" class="screen">
            <div class="game-over">
                <h1>üíî Game Over</h1>
                <p>ƒê·ª´ng n·∫£n l√≤ng, h√£y th·ª≠ l·∫°i!</p>
                <button id="retry-btn" class="btn btn-primary">Th·ª≠ l·∫°i</button>
                <button id="home-btn-2" class="btn btn-secondary">V·ªÅ trang ch·ªß</button>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/camera.js"></script>
    <script src="assets/js/game.js"></script>
</body>
</html>
